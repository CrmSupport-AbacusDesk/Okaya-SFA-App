<ion-view view-title="Quotation Detail">
    
    <ion-nav-buttons side="left">
        <a ng-click="goToBackPageHandler()" class="cs-backbtn button button-icon icon ion-android-arrow-back font18 fff"></a>
    </ion-nav-buttons>
    
    <!-- <ion-nav-buttons side="right" class="custom-right-btn">
        <div class="right-nav-btn nav-search">
            <a href="#/tab/lead-quotation-add" menu-toggle="left"><i class="material-icons">edit</i></a>
        </div>
    </ion-nav-buttons> -->
    <ion-content>
        
        <div class="padding16">

            <div class="cs-flex">
                <div class="bdr-field wp100">
                    <span>Date Created</span>
                    <p>{{dateFormat(quoteDetail.date_created)}}</p>
                </div>
                <div class="bdr-field wp100">
                    <span>Created By</span>
                    <p>{{quoteDetail.created_by_name}}</p>
                </div>
                <div class="bdr-field w150" ng-class="{'pending-bg':quoteDetail.quotation_status=='Pending','approved-bg':quoteDetail.quotation_status=='Delivered','reject-bg':quoteDetail.quotation_status=='Reject'}">
                    <span>Status</span>
                    <p>{{quoteDetail.quotation_status ? quoteDetail.quotation_status : 'N/A'}}</p>
                </div>
            </div>

            <div class="bdr-field wp100">
                <span>Terms and Condition</span>
                <!-- <p [innerHTML]="quoteDetail.term_condition">{{quoteDetail.term_condition}}</p> -->
                <p ng-bind-html="quoteDetail.term_condition"></p>
                <!-- {{quoteDetail.term_condition ? quoteDetail.term_condition : 'N/A'}} -->
            </div>
            <div class="bdr-field wp100" ng-if="quoteDetail.quotation_remark">
                <span>Quotation Remark</span>
                <p>{{quoteDetail.quotation_remark ? quoteDetail.quotation_remark : 'N/A'}}</p>
            </div>
            
            <div class="cs-heading1 pl0 mb5">
                <p>Item Information</p>
            </div>
            
            <div ng-repeat="row in quoteDetail.itemData" class="coman-list ml0 mr0 mt0">
                <div class="center-item">
                    <div class="cs-content">
                        <p>{{row.category}} {{row.sub_category ? ', '+row.sub_category : ''}}{{row.product_name ? ', '+row.product_name : ''}}</p>
                        <span>#{{row.product_code}}</span>
                    </div>
                </div>
                <div class="pdlr">
                    <div class="cs-flex">
                        <div class="bdr-field wp100">
                            <span>QTY</span>
                            <p>{{row.qty ? row.qty : '0'}}</p>
                        </div>
                        <div class="bdr-field wp100">
                            <span>Rate</span>
                            <p> &#8377;  {{row.rate ? row.rate : '0'}} </p>
                        </div>
                        <div class="bdr-field wp100">
                            <span>Amount</span>
                            <p>{{row.qty * row.rate}}</p>
                        </div>
                    </div>
                    
                    <div class="cs-flex">
                        <div class="bdr-field wp100">
                            <span>Discount</span>
                            <p> &#8377;  {{row.dis_amt ? row.dis_amt : '0'}} ({{row.dis_percent ? row.dis_percent : '0'}} %) </p>
                        </div>
                        <div class="bdr-field wp100">
                            <span>Item Total</span>
                            <p>{{row.item_total ? row.item_total : '0'}}</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="summary-table">
                <table>
                    <tr>
                        <td class="w130">Total Item</td>
                        <td class="text-right">{{quoteDetail.item_count ? quoteDetail.item_count : '0'}}</td>
                    </tr>
                    <tr>
                        <td>Item Total</td>
                        <td class="text-right">Rs. {{quoteDetail.item_total ? quoteDetail.item_total : '0'}}</td>
                    </tr>
                    
                    <tr>
                        <td>Discount Amount</td>
                        <td class="text-right">Rs. {{quoteDetail.dis_amt ? quoteDetail.dis_amt : '0'}}</td>
                    </tr>

                    <tr>
                        <td>IGST</td>
                        <td class="text-right">Rs. {{quoteDetail.igst_amt ? quoteDetail.igst_amt : '0'}}</td>
                    </tr>

                    <tr>
                        <td>CGST</td>
                        <td class="text-right">Rs. {{quoteDetail.cgst_amt ? quoteDetail.cgst_amt : '0'}}</td>
                    </tr>

                    <tr>
                        <td>SGST</td>
                        <td class="text-right">Rs. {{quoteDetail.sgst_amt ? quoteDetail.sgst_amt : '0'}}</td>
                    </tr>
                    
                    <tr>
                        <td>Final Amount </td>
                        <td class="text-right">Rs. {{quoteDetail.net_total ? quoteDetail.net_total : '0'}}</td>
                    </tr>
                </table>
            </div>
        </div>
    </ion-content>
</ion-view>
